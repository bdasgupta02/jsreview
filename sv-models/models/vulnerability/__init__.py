from joblib import load
import pandas as pd


def get_model_vuln():
    k_load = load('./models/vulnerability/vulnerability.joblib')
    return k_load


def predict_vuln(model, mccc, loc, tlloc, tloc, hor_d, hon_d, hon_t, hvoc, hdiff, cycl):
    row = pd.DataFrame({'McCC': mccc, 'LOC': loc, 'TLLOC': tlloc, 'TLOC': tloc, 'HOR_D': hor_d,
                       'HON_D': hon_d, 'HON_T': hon_t, 'HVOC': hvoc, 'HDIFF': hdiff, 'CYCL_DENS': cycl}, index=[0])
    pred = model.predict(row)
    return pred[0]
